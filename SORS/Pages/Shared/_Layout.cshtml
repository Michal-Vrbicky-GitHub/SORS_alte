<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - SORS</title>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<link rel="stylesheet" href="~/SORS.styles.css" asp-append-version="true" />
	<link rel="icon" type="image/x-icon" href="~/favicon_a.ico" /><!--system of river statións, stations on rivers system-->
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
			<div class="container">
				<a class="navbar-brand" asp-area="" asp-page="/Index">SORS</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
					<ul class="navbar-nav flex-grow-1">
						<li class="nav-item">
							<a class="nav-link text-dark" asp-area="" asp-page="/Stations/Index">Stations</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" asp-area="" asp-page="/Reports">Level Reports</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" asp-area="" asp-page="/Errorlog">Error Log</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle text-dark" href="#" id="tokenManagementDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Token Management
							</a>
							<ul class="dropdown-menu" aria-labelledby="tokenManagementDropdown">
								<li><a class="dropdown-item" asp-area="" asp-page="/TokenManagement">Users</a></li>
								<li><a class="dropdown-item" asp-area="" asp-page="/StationTokenManagement">Stations</a></li>
							</ul>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle text-dark" href="#" id="tokenManagementDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Graph
							</a>
							<ul class="dropdown-menu" aria-labelledby="tokenManagementDropdown">
								<li><a class="dropdown-item" asp-area="" asp-page="/StationComparison">Stations latest</a></li>
								<li><a class="dropdown-item" asp-area="" asp-page="/RiverComparison">Rivers</a></li>
								<li><a class="dropdown-item" asp-area="" asp-page="/StationGraph">Station</a></li>
							</ul>
						</li>
					</ul>
					<partial name="_LoginPartial" />
					<div class="clock-container">
						<div class="clock">
							<div>
								<div class="info date"></div>
								<div class="info day"></div>
							</div>
							<div class="dot"></div>
							<div>
								<div class="hour-hand"></div>
								<div class="minute-hand"></div>
								<div class="second-hand"></div>
							</div>
							<div>
								<span class="h3nmbr clockSpan">3</span>
								<span class="h6nmbr clockSpan">6</span>
								<span class="h9nmbr clockSpan">9</span>
								<span class="h12nmbr clockSpan">12</span>
							</div>
							<div class="diallines"></div>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</header>
	<div class="container">
		<main role="main" class="pb-3">
			@RenderBody()
		</main>
	</div>

	<footer class="border-top footer text-muted">
		<div class="container">
			&copy; 2024 - SORS - <a asp-area="" asp-page="/Privacy">Privacy</a>
		</div>
	</footer>

	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>

	@await RenderSectionAsync("Scripts", required: false)

	<script type="text/javascript">
		var dialLines = document.getElementsByClassName('diallines');
		var clockEl = document.getElementsByClassName('clock')[0];

		for (var i = 1; i < 60; i++) {
			clockEl.innerHTML += "<div class='diallines'></div>";
			dialLines[i].style.transform = "rotate(" + 6 * i + "deg)";
		}

		function clock() {
			var weekday = [
				"Sunday",
				"Monday",
				"Tuesday",
				"Wednesday",
				"Thursday",
				"Friday",
				"Saturday"
			],
				d = new Date(),
				h = d.getHours(),
				m = d.getMinutes(),
				s = d.getSeconds(),
				date = d.getDate(),
				month = d.getMonth() + 1,
				year = d.getFullYear(),

				hDeg = h * 30 + m * (360 / 720),
				mDeg = m * 6 + s * (360 / 3600),
				sDeg = s * 6,

				hEl = document.querySelector('.hour-hand'),
				mEl = document.querySelector('.minute-hand'),
				sEl = document.querySelector('.second-hand'),
				dateEl = document.querySelector('.date'),
				dayEl = document.querySelector('.day');

			var day = weekday[d.getDay()];

			if (month < 9) {
				month = "0" + month;
			}

			hEl.style.transform = "rotate(" + hDeg + "deg)";
			mEl.style.transform = "rotate(" + mDeg + "deg)";
			sEl.style.transform = "rotate(" + sDeg + "deg)";
			dateEl.innerHTML = date + "/" + month + "/" + year;
			dayEl.innerHTML = day;
		}

		setInterval("clock()", 100);
	</script>
	<style type="text/css">
		.clock-container {
			width: 100px;
			height: 100px;
			display: flex;
			align-items: center;
			justify-content: center;
			position: absolute;
			right: 13px;
			top: 13px;
		}

		.clock {
			width: 100%;
			height: 100%;
			position: relative;
			background: #ececec;
			border-radius: 50%;
			border: 5px solid #333;
			box-shadow: 0 2vw 4vw -1vw rgba(0, 0, 0, 0.8);
		}

		.dot {
			width: 5px;
			height: 5px;
			border-radius: 50%;
			background: #ccc;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			margin: auto;
			position: absolute;
			z-index: 10;
			box-shadow: 0 2px 4px -1px black;
		}

		.hour-hand {
			position: absolute;
			z-index: 5;
			width: 2px;
			height: 30%;
			background: #333;
			top: 25%;
			transform-origin: 50% 80%;
			left: 50%;
			margin-left: -1px;
			border-top-left-radius: 50%;
			border-top-right-radius: 50%;
		}

		.minute-hand {
			position: absolute;
			z-index: 6;
			width: 2px;
			height: 40%;
			background: #666;
			top: 14%;
			left: 50%;
			margin-left: -1px;
			border-top-left-radius: 50%;
			border-top-right-radius: 50%;
			transform-origin: 50% 90%;
		}

		.second-hand {
			position: absolute;
			z-index: 7;
			width: 1px;
			height: 45%;
			background: darkorange;
			top: 9%;
			left: 50%;
			margin-left: -0.5px;
			border-top-left-radius: 50%;
			border-top-right-radius: 50%;
			transform-origin: 50% 95%;
		}

		span.clockSpan {
			display: inline-block;
			position: absolute;
			color: #333;
			font-size: 13px;
			font-family: 'Poiret One';
			font-weight: 700;
			z-index: 4;
		}

		.h12nmbr {
			top: 5%;
			left: 50%;
			transform: translateX(-50%);
		}

		.h3nmbr {
			top: 50%;
			right: 5%;
			transform: translateY(-50%);
		}

		.h6nmbr {
			bottom: 5%;
			left: 50%;
			transform: translateX(-50%);
		}

		.h9nmbr {
			top: 50%;
			left: 5%;
			transform: translateY(-50%);
		}

		.diallines {
			position: absolute;
			z-index: 2;
			width: 1px;
			height: 8px; /* Increased height to make lines extend further */
			background: #666;
			left: 51%;
			margin-left: -1px;
			transform-origin: 50% 45px; /* Adjusted to extend lines to the clock border */
		}

			.diallines:nth-of-type(5n) {
				position: absolute;
				z-index: 2;
				width: 2px;
				height: 11px; /* Increased height to make lines extend further */
				background: #666;
				margin-left: -2px; /* Adjusted margin for thicker lines */
			}

		.info {
			position: absolute;
			width: 60%;
			height: 10%;
			border-radius: 7px;
			background: #ccc;
			text-align: center;
			line-height: 101%;
			color: #000;
			font-size: 6px;
			top: 70%;
			left: 50%;
			transform: translateX(-50%);
			font-family: "Poiret One";
			font-weight: 700;
			z-index: 3;
			letter-spacing: 1px;
		}

		.date {
			top: 30%;
		}

		.day {
			top: 60%;
		}


	</style>
</body>
</html>
